<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Hex</title>
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <link rel="stylesheet" type="text/css" href="/css/game.css" />
</head>

<body>
  <div class="gameboard">
    <div class="box-header">
      {{#areEqual state.winner null}}
      <p>Current player :</p>
      <p class="current-player" data-player="{{state.turn}}">{{state.turn}}</p>
      {{else}}
      <p>The winner is : {{state.winner}}</p>
      <form action="/" method="get">
        <input type="submit" value="Return to home page" data-cy="backHomePage">
      </form>
      {{/areEqual}}
    </div>
    <div class=" hex-board-frame" style="--rows: {{state.board.length}}">
      <div class="left-edge"></div>
      <div class="right-edge"></div>
      <div class="top-edge"></div>
      <div class="bottom-edge"></div>
      <div class="hex-board-container">
        <i></i>
        {{#each state.board}}
        {{#each this}}
        {{#areEqual this.value 'empty'}}
        <form method="post" action="/game/{{../../id}}">
          <input type="hidden" name="x" value="{{@index}}" />
          <input type="hidden" name="y" value="{{@../index}}" />
          <input type="submit" id="form-{{@../index}}-{{@index}}" style="display:none;" />
          <label for="form-{{@../index}}-{{@index}}" tabindex="0">
            <div class="cell" data-color="{{this.value}}">
            </div>
          </label>
        </form>
        {{else}}
        <div class="cell" data-color="{{this.value}}"
          data-winningCell="{{isCellInWinningPath @root.state.winningPath @index @../index}}">
        </div>
        {{/areEqual}}

        {{/each}}
        {{/each}}
      </div>
    </div>
  </div>
</body>

</html>